function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,o,c,i=document.querySelector("table"),l=i.tBodies[0].rows,u=i.tHead.rows,s=i.rows[0].cells[4],d=i.rows[0].cells[3],m={},f=document.createElement("div");n=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],r=["Name","Position","Office","Age","Salary"],a=document.createElement("form"),o=document.createElement("select"),(c=document.createElement("button")).innerText="Save to table",c.type="button",a.classList.add("new-employee-form"),r.forEach(function(e,t){var r=document.createElement("label");if("Office"===e)n.forEach(function(t){var n=document.createElement("option");o.setAttribute("data-qa",e.toLowerCase()),n.value=t,n.innerText=t,o.append(n)}),r.innerText="".concat(e,":"),r.append(o);else{var c=document.createElement("input"),i=e.toLowerCase();c.setAttribute("data-qa",i),c.setAttribute("type",t>=3?"number":"text"),c.setAttribute("name",i),r.innerText="".concat(e,":"),r.append(c)}a.append(r)}),a.append(c),document.body.append(a);var p=null;function v(e,t,n){var r=document.createElement("span"),a=document.createElement("p");f.innerHTML="",f.className="",f.classList.add("notification",n),f.setAttribute("data-qa","notification"),r.classList.add("title"),r.innerText=e,a.innerText=t,f.append(r),f.append(a),document.body.append(f)}function b(e,t,n){e.value.trim().length>=4?t.innerText=e.value:(v("Error","Name must be at least 4 letters long.","error"),t.innerText=n),e.replaceWith(t),p=null}document.querySelector("button").addEventListener("click",function(e){e.preventDefault();var n=document.querySelector("form").elements,r=document.createElement("tr");f.innerHTML="",f.className="";var a=n.name,o=n.age,c=n.position;if(a.value.length<4){v("Error","Name must be at least 4 letters long.","error");return}if(o.value<18||o.value>90){v("Error","Age must be between 18 and 90.","error");return}if(c.value.length<4){v("Error","Position must be at least 4 letters long.","error");return}t(n).forEach(function(e,t){if("button"!==e.type){var n=document.createElement("td");if(4===t){var a=Intl.NumberFormat("en-US").format(+e.value);n.innerText="$".concat(a)}else n.innerText=e.value;r.append(n)}}),i.tBodies[0].appendChild(r),v("Success","New employee added to the table.","success")}),t(l).forEach(function(e){e.addEventListener("click",function(){t(l).forEach(function(e){return e.classList.remove("active")}),e.classList.add("active")}),t(e.cells).forEach(function(e){e.addEventListener("dblclick",function(){if(p&&p!==e){var t=document.querySelector(".cell-input");t&&t.replaceWith(p),p=null}var n=e.innerText,r=document.createElement("input");r.classList.add("cell-input"),r.value=e.innerText,e.innerHTML="",e.append(r),r.focus(),r.addEventListener("keydown",function(t){"Enter"===t.key&&b(r,e,n)}),r.addEventListener("blur",function(){b(r,e,n)}),p=e})})}),t(u[0].cells).forEach(function(e){e.addEventListener("click",function(e){var n=e.target.cellIndex,r="asc"===m[n];m[n]=r?"desc":"asc",t(l).sort(function(t,a){var o=t.cells[n].innerText,c=a.cells[n].innerText;return e.target===d||e.target===s?r?+c.replace(/[$,]/g,"")-+o.replace(/[$,]/g,""):+o.replace(/[$,]/g,"")-+c.replace(/[$,]/g,""):r?c.localeCompare(o):o.localeCompare(c)}).forEach(function(e){return i.tBodies[0].append(e)}),Object.keys(m).forEach(function(t){+t!=+e.target.cellIndex&&delete m[t]})})});
//# sourceMappingURL=index.5cfe4191.js.map
