{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tBodyRows = table.tBodies[0].rows;\nconst tHeadRows = table.tHead.rows;\n\nconst cellSalary = table.rows[0].cells[4];\nconst cellAge = table.rows[0].cells[3];\nconst sortOrder = {};\nconst notification = document.createElement('div');\n\nconst labelNames = ['Name', 'Position', 'Office', 'Age', 'Salary'];\nconst officeLocated = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\naddForm(officeLocated, labelNames);\n\nlet currentEditCell = null;\nconst formButton = document.querySelector('button');\n\nformButton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const formInputs = document.querySelector('form').elements;\n  const row = document.createElement('tr');\n\n  notification.innerHTML = '';\n  notification.className = '';\n\n  const nameInput = formInputs['name'];\n  const ageInput = formInputs['age'];\n  const positionInput = formInputs['position'];\n\n  if (nameInput.value.length < 4) {\n    showNotification('Error', 'Name must be at least 4 letters long.', 'error');\n\n    return;\n  }\n\n  if (ageInput.value < 18 || ageInput.value > 90) {\n    showNotification('Error', 'Age must be between 18 and 90.', 'error');\n\n    return;\n  }\n\n  if (positionInput.value.length < 4) {\n    showNotification(\n      'Error',\n      'Position must be at least 4 letters long.',\n      'error',\n    );\n\n    return;\n  }\n\n  [...formInputs].forEach((input, i) => {\n    if (input.type !== 'button') {\n      const cell = document.createElement('td');\n\n      if (i === 4) {\n        const numberFormatter = Intl.NumberFormat('en-US');\n        const formatted = numberFormatter.format(+input.value);\n\n        cell.innerText = `$${formatted}`;\n      } else {\n        cell.innerText = input.value;\n      }\n      row.append(cell);\n    }\n  });\n\n  table.tBodies[0].appendChild(row);\n\n  showNotification('Success', 'New employee added to the table.', 'success');\n});\n\n[...tBodyRows].forEach((row) => {\n  row.addEventListener('click', () => {\n    [...tBodyRows].forEach((r) => r.classList.remove('active'));\n    row.classList.add('active');\n  });\n\n  [...row.cells].forEach((cell) => {\n    cell.addEventListener('dblclick', () => {\n      if (currentEditCell && currentEditCell !== cell) {\n        const previousInput = document.querySelector('.cell-input');\n\n        if (previousInput) {\n          previousInput.replaceWith(currentEditCell);\n        }\n        currentEditCell = null;\n      }\n\n      const originalValue = cell.innerText;\n      const input = document.createElement('input');\n\n      input.classList.add('cell-input');\n      input.value = cell.innerText;\n      cell.innerHTML = '';\n      cell.append(input);\n      input.focus();\n\n      input.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') {\n          handleCellEditCompletion(input, cell, originalValue);\n        }\n      });\n\n      input.addEventListener('blur', () => {\n        handleCellEditCompletion(input, cell, originalValue);\n      });\n\n      currentEditCell = cell;\n    });\n  });\n});\n\n[...tHeadRows[0].cells].forEach((cell) => {\n  cell.addEventListener('click', (e) => {\n    const switchColumn = e.target.cellIndex;\n    const isAsc = sortOrder[switchColumn] === 'asc';\n\n    sortOrder[switchColumn] = isAsc ? 'desc' : 'asc';\n\n    const sortedRows = [...tBodyRows].sort((row1, row2) => {\n      const item1 = row1.cells[switchColumn].innerText;\n      const item2 = row2.cells[switchColumn].innerText;\n\n      if (e.target === cellAge || e.target === cellSalary) {\n        return isAsc\n          ? +item2.replace(/[$,]/g, '') - +item1.replace(/[$,]/g, '')\n          : +item1.replace(/[$,]/g, '') - +item2.replace(/[$,]/g, '');\n      } else {\n        return isAsc ? item2.localeCompare(item1) : item1.localeCompare(item2);\n      }\n    });\n\n    sortedRows.forEach((row) => table.tBodies[0].append(row));\n\n    Object.keys(sortOrder).forEach((key) => {\n      if (+key !== +e.target.cellIndex) {\n        delete sortOrder[key];\n      }\n    });\n  });\n});\n\nfunction addForm(placeLocate, nameInput) {\n  const form = document.createElement('form');\n  const select = document.createElement('select');\n  const button = document.createElement('button');\n\n  button.innerText = 'Save to table';\n  button.type = 'button';\n\n  form.classList.add('new-employee-form');\n\n  nameInput.forEach((labelName, i) => {\n    const label = document.createElement('label');\n\n    if (labelName === 'Office') {\n      placeLocate.forEach((loc) => {\n        const opt = document.createElement('option');\n\n        select.setAttribute('data-qa', labelName.toLowerCase());\n        opt.value = loc;\n        opt.innerText = loc;\n        select.append(opt);\n      });\n      label.innerText = `${labelName}:`;\n      label.append(select);\n    } else {\n      const input = document.createElement('input');\n      const lowerName = labelName.toLowerCase();\n\n      input.setAttribute('data-qa', lowerName);\n      input.setAttribute('type', i >= 3 ? 'number' : 'text');\n      input.setAttribute('name', lowerName);\n      label.innerText = `${labelName}:`;\n      label.append(input);\n    }\n\n    form.append(label);\n  });\n\n  form.append(button);\n  document.body.append(form);\n}\n\nfunction showNotification(title, message, type) {\n  const nTitle = document.createElement('span');\n  const p = document.createElement('p');\n\n  notification.innerHTML = '';\n  notification.className = '';\n  notification.classList.add('notification', type);\n\n  notification.setAttribute('data-qa', 'notification');\n\n  nTitle.classList.add('title');\n  nTitle.innerText = title;\n\n  p.innerText = message;\n\n  notification.append(nTitle);\n  notification.append(p);\n\n  document.body.append(notification);\n}\n\nfunction handleCellEditCompletion(input, cell, originalValue) {\n  if (input.value.trim().length >= 4) {\n    cell.innerText = input.value;\n  } else {\n    showNotification('Error', 'Name must be at least 4 letters long.', 'error');\n    cell.innerText = originalValue;\n  }\n  input.replaceWith(cell);\n  currentEditCell = null;\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}